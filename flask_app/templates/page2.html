{% extends 'base.html' %}

{% block head %}
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='map.css') }}">
{% endblock %}

{% block header %}
  <h1>{% block title %}'{{ searchName }}'{% endblock %}</h1>
  <a href="/">Return home</a>
{% endblock %}

{% block content %}
  <div class="map" id="usMap"></div>
  <div class="map" id="caMap"></div>
  <div class="map" id="worldMap"></div>
  <div class="chart-container">
    <canvas id="chart"></canvas>
  </div>
{% endblock %}

{% block scripts %}
  <script>
    var geoCA = JSON.parse('{{ geoCA | tojson | safe }}')
    var geoUS = JSON.parse('{{ geoUS | tojson | safe }}')
    var geoWORLD = JSON.parse('{{ geoWORLD | tojson | safe }}')
    var yearData = JSON.parse('{{ yearData | tojson | safe }}')
  </script>
  <script src="{{ url_for('static', filename='map.js') }}"></script>
  <script src="{{ url_for('static', filename='chart.js') }}"></script>
{% endblock %}